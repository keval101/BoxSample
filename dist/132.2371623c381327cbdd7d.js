(self.webpackChunkonline_box_trainer=self.webpackChunkonline_box_trainer||[]).push([[132],{4132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TakescreenshotModule:()=>S});var o=n(8583),i=n(5035),r=n(4116),a=n(639),s=n(9790),c=n(5610),l=n(5537),g=n(6088),d=n(7451);const h=["video"],u=["canvas"],m=function(e){return{visibility:e}};function f(e,t){if(1&e&&(a.TgZ(0,"p",16),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e){const e=a.oxw();a.Q6J("ngStyle",a.VKq(4,m,e.isFullScreen?"hidden":"visible")),a.xp6(1),a.hij(" ",a.lcZ(2,2,"takescreenshot.screenShotText")," ")}}function p(e,t){1&e&&(a.TgZ(0,"p",17),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"takescreenshot.previewText")," "))}function _(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){return a.CHM(e),a.oxw().takeScreenShot()}),a._UZ(1,"img",19),a.qZA()}}function v(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",20),a.TgZ(1,"button",21),a.NdJ("click",function(){return a.CHM(e),a.oxw().onRetake()}),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"button",22),a.NdJ("click",function(){return a.CHM(e),a.oxw().onDone()}),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.qZA()}2&e&&(a.xp6(2),a.hij(" ",a.lcZ(3,2,"takescreenshot.retake")," "),a.xp6(3),a.hij(" ",a.lcZ(6,4,"takescreenshot.proceed")," "))}const b=function(e){return{zIndex:e}},C=function(e){return{transformLogo:e}},k=function(e){return{fullScreenbg:e}},x=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i){this.router=e,this.TranslateService=t,this.takescreenshotService=n,this.setupSerice=o,this.headerService=i,this.onCameraClick=!1,this.imageCapture=!1,this.deviceInfoId=this.setupSerice.cameraIdInformation,this.headerService.videoFullscreen.subscribe(e=>{this.isFullScreen=e})}ngOnInit(){this.recording=!0,this.takeScreenshot=!0}ngAfterViewInit(){let e=this.video.nativeElement;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{deviceId:this.deviceInfoId?{exact:this.deviceInfoId}:void 0}}).then(t=>{window.stream=t,this.videoStream=t,e.srcObject=t,e.play()})}takeScreenShot(){this.onCameraClick=!0,this.takeScreenshot=!1,this.imageCapture=!0,this.canvas.nativeElement.getContext("2d").drawImage(this.video.nativeElement,0,0,640,480)}onRetake(){this.takeScreenshot=!0,this.onCameraClick=!1,this.imageCapture=!1}onDone(){this.router.navigate(["/choosescreenshot"]),this.takescreenshotService.resultImageSource=this.canvas.nativeElement.toDataURL("image/png")}ngOnDestroy(){window.stream&&window.stream.getTracks().forEach(e=>{e.stop()})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(i.F0),a.Y36(s.sK),a.Y36(c.Q),a.Y36(l.U),a.Y36(g.r))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-takescreenshot"]],viewQuery:function(e,t){if(1&e&&(a.Gf(h,5),a.Gf(u,5)),2&e){let e;a.iGM(e=a.CRH())&&(t.video=e.first),a.iGM(e=a.CRH())&&(t.canvas=e.first)}},decls:16,vars:15,consts:[[1,"header"],[3,"onFinishRecording","ontakeScreenshot"],[1,"container"],[1,"snapshotContainer"],["width","640","height","480","autoplay","",1,"video",3,"ngClass"],["video",""],["width","640","height","480",1,"canvas"],["canvas",""],[1,"logo",3,"ngClass"],["src","assets/images/Logo2.svg","alt","logo"],[1,"container__footer",3,"ngClass"],[1,"container__footer--camera"],["class","screenShotText",3,"ngStyle",4,"ngIf"],["class","screenShotText",4,"ngIf"],["type","button","class","cameraBtn",3,"click",4,"ngIf"],["class","container__footer--Btngroup",4,"ngIf"],[1,"screenShotText",3,"ngStyle"],[1,"screenShotText"],["type","button",1,"cameraBtn",3,"click"],["src","assets/icnons/camera.png","alt","camera-icon","id","cameraIcon"],[1,"container__footer--Btngroup"],[1,"button","button-small","button-outline",3,"click"],[1,"button","button-small","button-fill",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-header",1),a.qZA(),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._UZ(4,"video",4,5),a._UZ(6,"canvas",6,7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"img",9),a.qZA(),a.TgZ(10,"div",10),a.TgZ(11,"div",11),a.YNc(12,f,3,6,"p",12),a.YNc(13,p,3,3,"p",13),a.YNc(14,_,2,0,"button",14),a.qZA(),a.YNc(15,v,7,6,"div",15),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Q6J("onFinishRecording",t.recording)("ontakeScreenshot",t.takeScreenshot),a.xp6(3),a.Q6J("ngClass",a.VKq(9,b,!t.imageCapture)),a.xp6(4),a.Q6J("ngClass",a.VKq(11,C,t.isFullScreen)),a.xp6(2),a.Q6J("ngClass",a.VKq(13,k,t.isFullScreen)),a.xp6(2),a.Q6J("ngIf",t.takeScreenshot),a.xp6(1),a.Q6J("ngIf",!t.takeScreenshot),a.xp6(1),a.Q6J("ngIf",t.takeScreenshot),a.xp6(1),a.Q6J("ngIf",t.onCameraClick))},directives:[d.G,o.mk,o.O5,o.PC],pipes:[s.X$],styles:[".button[_ngcontent-%COMP%]{height:4.8rem;border-radius:.5rem;font-size:2.4rem;background:#0000;border:.2rem solid #0000;cursor:pointer;font-weight:500;display:flex;justify-content:center;align-items:center}.button-big[_ngcontent-%COMP%]{width:32rem}.button-exSmall[_ngcontent-%COMP%]{width:8rem}.button-small[_ngcontent-%COMP%]{width:24rem}.button-fill[_ngcontent-%COMP%]{background-color:#b41513;color:#fff;font-family:Myriad Light}.button-outline[_ngcontent-%COMP%]{color:#b41513;border-color:#b41513}.button-outline[_ngcontent-%COMP%]:hover{background-color:initial!important}.button-outline[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:hover{transform:translateY(.2rem);box-shadow:0 .2rem .2rem rbga(0,0,0,.25);transition:all .5s ease}.button[_ngcontent-%COMP%]:hover{background-color:#7d0000}.header[_ngcontent-%COMP%]{z-index:20}.container[_ngcontent-%COMP%]{position:absolute;height:100vh;top:0;width:100%;overflow:hidden;z-index:-1}.container__footer[_ngcontent-%COMP%]{width:100%;height:12.8rem;position:absolute;bottom:0;left:0;padding:0 4rem;background-color:#f3f4f4b3;display:flex;align-items:center;justify-content:space-between;z-index:10;transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}.container__footer--camera[_ngcontent-%COMP%]{width:55%;display:flex;justify-content:space-between}.container__footer[_ngcontent-%COMP%]   #cameraIcon[_ngcontent-%COMP%]{width:7.7rem}.container__footer[_ngcontent-%COMP%]   .cameraBtn[_ngcontent-%COMP%]{background-color:initial;border:none;cursor:pointer}.container__footer[_ngcontent-%COMP%]   .screenShotText[_ngcontent-%COMP%]{display:flex;align-items:center;color:#b41513;font-size:3.2rem;margin:0 3rem 0 0}.container__footer--Btngroup[_ngcontent-%COMP%]{display:flex}.container__footer--Btngroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:1.6rem}.snapshotContainer[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:100%;justify-content:space-between}.logo[_ngcontent-%COMP%]{position:absolute;top:9rem;left:4rem;z-index:1}@media screen and (max-width: 600px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16rem}}.transformLogo[_ngcontent-%COMP%]{top:2.4rem}.canvas[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.canvas[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.canvas[_ngcontent-%COMP%]{object-fit:none}}.zIndex[_ngcontent-%COMP%]{z-index:1}.fullScreenbg[_ngcontent-%COMP%]{background-color:initial;transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}"],data:{animation:[r.q]}}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.Bz.forChild(x)],i.Bz]}),e})();var w=n(404);let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.ez,M,w.O,s.aw]]}),e})()}}]);