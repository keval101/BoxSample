(self.webpackChunkonline_box_trainer=self.webpackChunkonline_box_trainer||[]).push([[132],{4132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TakescreenshotModule:()=>C});var o=n(8583),i=n(5035),a=n(4116),r=n(639),s=n(9790),c=n(5610),l=n(5537),g=n(6088),d=n(7451);const h=["video"],u=["canvas"];function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().onRetake()}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",18),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDone()}),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,2,"recordingPage.retake")," "),r.xp6(3),r.hij(" ",r.lcZ(6,4,"recordingPage.done")," "))}const f=function(e){return{zIndex:e}},p=function(e){return{transformLogo:e}},_=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i){this.router=e,this.TranslateService=t,this.takescreenshotService=n,this.setupSerice=o,this.headerService=i,this.onCameraClick=!1,this.imageCapture=!1,this.deviceInfoId=this.setupSerice.cameraIdInformation,this.headerService.videoFullscreen.subscribe(e=>{this.isFullScreen=e})}ngOnInit(){this.recording=!0,this.takeScreenshot=!0}ngAfterViewInit(){let e=this.video.nativeElement;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{deviceId:this.deviceInfoId?{exact:this.deviceInfoId}:void 0}}).then(t=>{window.stream=t,this.videoStream=t,e.srcObject=t,e.play()})}takeScreenShot(){this.isTaken=!0,this.onCameraClick=!0,this.takeScreenshot=!1,this.imageCapture=!0,this.canvas.nativeElement.getContext("2d").drawImage(this.video.nativeElement,0,0,640,480)}onRetake(){this.isTaken=!1,this.takeScreenshot=!0,this.onCameraClick=!1,this.imageCapture=!1}onDone(){this.router.navigate(["/choosescreenshot"]),this.takescreenshotService.captures.push(this.canvas.nativeElement.toDataURL("image/png")),this.takescreenshotService.resultImageSource=this.canvas.nativeElement.toDataURL("image/png")}ngOnDestroy(){window.stream&&window.stream.getTracks().forEach(e=>{e.stop()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.F0),r.Y36(s.sK),r.Y36(c.Q),r.Y36(l.U),r.Y36(g.r))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-takescreenshot"]],viewQuery:function(e,t){if(1&e&&(r.Gf(h,5),r.Gf(u,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.video=e.first),r.iGM(e=r.CRH())&&(t.canvas=e.first)}},decls:18,vars:13,consts:[[1,"header"],[3,"onFinishRecording","ontakeScreenshot"],[1,"container"],[1,"snapshotContainer"],["width","640","height","480","autoplay","",1,"video",3,"ngClass"],["video",""],["width","640","height","480",1,"canvas"],["canvas",""],[1,"logo",3,"ngClass"],["src","assets/images/Logo2.svg","alt","logo"],[1,"container__footer"],[1,"container__footer--camera"],["type","button",1,"cameraBtn",3,"disabled","click"],["src","assets/icnons/camera.png","alt","camera-icon","id","cameraIcon"],[1,"screenShotText"],["class","container__footer--Btngroup",4,"ngIf"],[1,"container__footer--Btngroup"],[1,"button","button-small","button-outline",3,"click"],[1,"button","button-small","button-fill",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-header",1),r.qZA(),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._UZ(4,"video",4,5),r._UZ(6,"canvas",6,7),r.qZA(),r.TgZ(8,"div",8),r._UZ(9,"img",9),r.qZA(),r.TgZ(10,"div",10),r.TgZ(11,"div",11),r.TgZ(12,"button",12),r.NdJ("click",function(){return t.takeScreenShot()}),r._UZ(13,"img",13),r.qZA(),r.TgZ(14,"p",14),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.qZA(),r.YNc(17,m,7,6,"div",15),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("onFinishRecording",t.recording)("ontakeScreenshot",t.takeScreenshot),r.xp6(3),r.Q6J("ngClass",r.VKq(9,f,!t.imageCapture)),r.xp6(4),r.Q6J("ngClass",r.VKq(11,p,t.isFullScreen)),r.xp6(4),r.Q6J("disabled",t.isTaken),r.xp6(3),r.hij(" ",r.lcZ(16,7,"takescreenshot.screenShotText")," "),r.xp6(2),r.Q6J("ngIf",t.onCameraClick))},directives:[d.G,o.mk,o.O5],pipes:[s.X$],styles:[".button[_ngcontent-%COMP%]{height:4.8rem;border-radius:.5rem;font-size:2.4rem;background:#0000;border:.2rem solid #0000;cursor:pointer;font-weight:500;display:flex;justify-content:center;align-items:center}.button-big[_ngcontent-%COMP%]{width:32rem}.button-exSmall[_ngcontent-%COMP%]{width:8rem}.button-small[_ngcontent-%COMP%]{width:24rem}.button-fill[_ngcontent-%COMP%]{background-color:#b41513;color:#fff;font-family:Myriad Light}.button-outline[_ngcontent-%COMP%]{color:#b41513;border-color:#b41513}.button-outline[_ngcontent-%COMP%]:hover{background-color:initial!important}.button-outline[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:hover{transform:translateY(.2rem);box-shadow:0 .2rem .2rem rbga(0,0,0,.25);transition:all .5s ease}.button[_ngcontent-%COMP%]:hover{background-color:#7d0000}.header[_ngcontent-%COMP%]{z-index:20}.container[_ngcontent-%COMP%]{position:absolute;height:100vh;top:0;width:100%;overflow:hidden;z-index:-1}.container__footer[_ngcontent-%COMP%]{width:100%;height:12.8rem;position:absolute;bottom:0;left:0;padding:0 4rem;background-color:#f3f4f4b3;display:flex;align-items:center;justify-content:space-between;z-index:10;transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}.container__footer--camera[_ngcontent-%COMP%]{width:55%;display:flex}.container__footer[_ngcontent-%COMP%]   #cameraIcon[_ngcontent-%COMP%]{width:7.7rem}.container__footer[_ngcontent-%COMP%]   .cameraBtn[_ngcontent-%COMP%]{background-color:initial;border:none;cursor:pointer}.container__footer[_ngcontent-%COMP%]   .screenShotText[_ngcontent-%COMP%]{display:flex;align-items:center;color:#b41513;font-size:3.2rem;margin:0 0 0 1rem}.container__footer--Btngroup[_ngcontent-%COMP%]{display:flex}.container__footer--Btngroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:1.6rem}.snapshotContainer[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:100%;justify-content:space-between}.logo[_ngcontent-%COMP%]{position:absolute;top:9rem;left:4rem;z-index:1}@media screen and (max-width: 600px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16rem}}.transformLogo[_ngcontent-%COMP%]{top:2.4rem}.canvas[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.canvas[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.canvas[_ngcontent-%COMP%]{object-fit:none}}.zIndex[_ngcontent-%COMP%]{z-index:1}.fullScreenbg[_ngcontent-%COMP%]{background-color:initial;transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}"],data:{animation:[a.q]}}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),e})();var b=n(404);let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez,v,b.O,s.aw]]}),e})()}}]);